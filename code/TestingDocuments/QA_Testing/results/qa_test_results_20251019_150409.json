{
  "summary": {
    "test_run_timestamp": "2025-10-19T15:04:09.274625",
    "collection_name": "test_comprehensive_v4",
    "total_questions": 18,
    "successful_tests": 1,
    "failed_tests": 0,
    "total_test_duration_seconds": 3.5138747692108154,
    "service_configuration": {
      "embeddings": {
        "model": "jina-embeddings-v3",
        "dimension": 1024,
        "provider": "jina_api",
        "device": "jina_cloud_gpu",
        "cache_enabled": true,
        "cache_entries": 0
      },
      "answer_generation": {
        "cache_enabled": false
      },
      "reranking": {
        "model": "jina-reranker-v2-base-multilingual",
        "provider": "jina-api"
      }
    },
    "average_metrics": {
      "total_time_ms": 3513.548417002312,
      "server_time_ms": 3508.655071258545,
      "keyword_coverage_percentage": 25.0
    },
    "category_statistics": {
      "Advanced Logic": {
        "test_count": 1,
        "avg_time_ms": 3513.548417002312,
        "avg_keyword_coverage": 25.0
      }
    }
  },
  "test_results": [
    {
      "test_id": "7.2",
      "category": "Advanced Logic",
      "question": "What is the total combined weight of one True Refrigerator and two Air Zoom Pegasus 40 shoes, in kilograms?",
      "difficulty": "hard",
      "test_capability": "arithmetic and unit conversion",
      "timestamp": "2025-10-19T15:04:09.274515",
      "success": true,
      "answer": "## Calculation: Combined Weight of True Refrigerator and Two Air Zoom Pegasus 40 Shoes\n\nTo calculate the total combined weight, we need to extract the weights of the True Refrigerator and the Nike Air Zoom Pegasus 40 shoes from the provided context.\n\n### Weight of True Refrigerator\nThe weight of the True Refrigerator is not explicitly stated in the context. However, we can find its dimensions and price in the restaurant supply order invoice. Since the weight is not provided, we cannot calculate it directly.\n\n### Weight of Nike Air Zoom Pegasus 40 Shoes\nThe weight of the Nike Air Zoom Pegasus 40 shoes is given as **283 grams per shoe**. Since we are calculating the weight of two shoes, we need to multiply this value by 2.\n\n**Calculation:**\n1. Weight of one Nike Air Zoom Pegasus 40 shoe: `283g`\n2. Weight of two Nike Air Zoom Pegasus 40 shoes: `283g` × 2 = `566g`\n3. Convert the weight of two shoes to kilograms: `566g` = `0.566kg`\n\n### Combined Weight Calculation\nSince the weight of the True Refrigerator is not provided, we cannot calculate the combined weight of the True Refrigerator and the two Nike Air Zoom Pegasus 40 shoes.\n\n**Missing Value:** Weight of True Refrigerator\n\n**Partial Result:** Weight of two Nike Air Zoom Pegasus 40 shoes: **0.566kg**\n\nWe cannot provide the total combined weight due to the missing value. If the weight of the True Refrigerator is provided, we can calculate the combined weight by adding the weight of the refrigerator to the weight of the two shoes.",
      "citations_count": 0,
      "citations": [],
      "performance": {
        "total_time_ms": 3513.548417002312,
        "server_time_ms": 3508.655071258545,
        "network_latency_ms": 4.893345743766986,
        "stage_times": {
          "intent_detection_ms": 1681.7269325256348,
          "search_ms": 1352.1060943603516,
          "reranking_ms": 329.3581008911133,
          "compression_ms": 0.0,
          "answer_generation_ms": 1826.854944229126
        },
        "stage_percentages": {
          "intent_detection_pct": 47.930813897941924,
          "search_pct": 38.53630712908336,
          "reranking_pct": 9.387018507150474,
          "compression_pct": 0.0,
          "answer_generation_pct": 52.06709998922289
        },
        "bottleneck": {
          "stage": "answer_generation",
          "time_ms": 1826.854944229126,
          "percentage_of_total": 52.06709998922289
        }
      },
      "retrieval_metrics": {
        "search_results_count": 10,
        "reranked_count": 3,
        "compressed_count": 3,
        "context_count": 3
      },
      "models_used": {
        "llm_requested": null,
        "llm_used": "Meta-Llama-3.3-70B-Instruct",
        "llm_temperature": 0.3,
        "used_recommended_model": true,
        "used_custom_prompt": true
      },
      "intent_analysis": {
        "detected_intent": "aggregation",
        "language": "en",
        "complexity": "moderate",
        "confidence": 0.93,
        "recommended_model": "Meta-Llama-3.3-70B-Instruct",
        "has_custom_prompt": true
      },
      "keyword_analysis": {
        "expected_keywords": [
          "283 grams",
          "566 grams",
          "0.566 kg",
          "refrigerator weight not specified"
        ],
        "keywords_found": [
          "283 grams"
        ],
        "keywords_missing": [
          "566 grams",
          "0.566 kg",
          "refrigerator weight not specified"
        ],
        "coverage_percentage": 25.0
      },
      "full_response": {
        "success": true,
        "query": "What is the total combined weight of one True Refrigerator and two Air Zoom Pegasus 40 shoes, in kilograms?",
        "collection_name": "test_comprehensive_v4",
        "tenant_id": "test_tenant",
        "answer": "## Calculation: Combined Weight of True Refrigerator and Two Air Zoom Pegasus 40 Shoes\n\nTo calculate the total combined weight, we need to extract the weights of the True Refrigerator and the Nike Air Zoom Pegasus 40 shoes from the provided context.\n\n### Weight of True Refrigerator\nThe weight of the True Refrigerator is not explicitly stated in the context. However, we can find its dimensions and price in the restaurant supply order invoice. Since the weight is not provided, we cannot calculate it directly.\n\n### Weight of Nike Air Zoom Pegasus 40 Shoes\nThe weight of the Nike Air Zoom Pegasus 40 shoes is given as **283 grams per shoe**. Since we are calculating the weight of two shoes, we need to multiply this value by 2.\n\n**Calculation:**\n1. Weight of one Nike Air Zoom Pegasus 40 shoe: `283g`\n2. Weight of two Nike Air Zoom Pegasus 40 shoes: `283g` × 2 = `566g`\n3. Convert the weight of two shoes to kilograms: `566g` = `0.566kg`\n\n### Combined Weight Calculation\nSince the weight of the True Refrigerator is not provided, we cannot calculate the combined weight of the True Refrigerator and the two Nike Air Zoom Pegasus 40 shoes.\n\n**Missing Value:** Weight of True Refrigerator\n\n**Partial Result:** Weight of two Nike Air Zoom Pegasus 40 shoes: **0.566kg**\n\nWe cannot provide the total combined weight due to the missing value. If the weight of the True Refrigerator is provided, we can calculate the combined weight by adding the weight of the refrigerator to the weight of the two shoes.",
        "citations": [],
        "context_chunks": [
          {
            "chunk_id": "ComprehensiveTestDocument_chunk_0002",
            "text": "### Nike Air Zoom Pegasus 40\n**Brand:** Nike\n**Manufacturer:** Nike Inc.\n**Model:** Air Zoom Pegasus 40\n**SKU:** NIKE-PEGASUS-40-MEN-10.5-BLACK\n**Price:** 139.99\n**Currency:** USD\n**Year:** 2023\n**Color:** Black/White/Anthracite\n**Size:** US Men's 10.5\n**Weight:** 283 grams (per shoe)\n**Dimensions:** Standard running shoe fit\n\n**Specifications:** React foam midsole, Zoom Air unit in forefoot, engineered mesh upper, rubber outsole with waffle pattern, heel collar for Achilles comfort, reflective elements for low-light visibility\n\n**Technical Terms:** React foam technology, Zoom Air cushioning, engineered mesh, waffle-pattern traction\n\n**Product Description:** The Nike Air Zoom Pegasus 40 continues the legacy of this iconic running shoe. Responsive cushioning provides a smooth ride for everyday runs. The mesh upper is breathable and lightweight, while the Zoom Air unit in the forefoot delivers propulsive feel.",
            "document_id": "ComprehensiveTestDocument",
            "topics": "Running Shoes, Athletic Footwear, Sports Technology",
            "keywords": "Nike Air Zoom Pegasus 40, Nike Inc., NIKE-PEGASUS-40-MEN-10.5-BLACK, React foam technology, Zoom Air cushioning",
            "summary": "The Nike Air Zoom Pegasus 40 is a running shoe from Nike Inc. featuring responsive React foam cushioning and a Zoom Air unit for a smooth and propulsive ride. It includes a breathable engineered mesh upper and a waffle-pattern rubber outsole for traction.",
            "questions": "What is the Nike Air Zoom Pegasus 40?|What features does the Nike Air Zoom Pegasus 40 have?|Who is the manufacturer of the Nike Air Zoom Pegasus 40?"
          },
          {
            "chunk_id": "ComprehensiveTestDocument_chunk_0003",
            "text": "**Product Description:** The Nike Air Zoom Pegasus 40 continues the legacy of this iconic running shoe. Responsive cushioning provides a smooth ride for everyday runs. The mesh upper is breathable and lightweight, while the Zoom Air unit in the forefoot delivers propulsive feel.\n\n**Contact:** customerservice@nike.com | +1-800-806-6453 | https://www.nike.com",
            "document_id": "ComprehensiveTestDocument",
            "topics": "Running Shoes, Product Description, Athletic Footwear",
            "keywords": "Nike Air Zoom Pegasus 40, Nike Inc., Zoom Air, mesh upper, breathable",
            "summary": "The Nike Air Zoom Pegasus 40 is a running shoe featuring responsive cushioning, a breathable mesh upper, and a Zoom Air unit for a propulsive feel. Contact Nike via email, phone, or website for more information.",
            "questions": "What is the Nike Air Zoom Pegasus 40?|What features does the Nike Air Zoom Pegasus 40 have?|Where can I contact Nike for more information?"
          },
          {
            "chunk_id": "ComprehensiveTestDocument_chunk_0012",
            "text": "## Restaurant Supply Order\n\n**Invoice Number:** REST-2024-0445\n**Transaction Date:** 2024-01-20\n**Vendor Name:** ChefPro Restaurant Supply Co.\n**Vendor ID:** CHEFPRO-VENDOR-2024\n\n**Equipment Ordered:**\n1. Hobart Commercial Dishwasher - Model: LXeR-2 - SKU: HOBART-LXER2 - Price: 8999.00 USD - Year: 2024 - Dimensions: 24.5 x 25 x 34 inches\n2. Vulcan Gas Range - Model: 60SS-10B - SKU: VULCAN-60SS-10B - Price: 5499.00 USD - Color: Stainless Steel - Size: 60 inches wide\n3. True Refrigerator - Model: T-49-HC - SKU: TRUE-T49-HC - Price: 3299.00 USD - Dimensions: 54 x 31 x 83 inches\n\n**Amount:** 17797.00\n**Tax Amount:** 1423.76\n**Total:** 19220.76\n**Currency:** USD\n**Payment Method:** Commercial Loan Financing\n**Payment Status:** Financed - 36 monthly payments",
            "document_id": "ComprehensiveTestDocument",
            "topics": "Restaurant Equipment, Commercial Financing, Vendor Transactions",
            "keywords": "Hobart Commercial Dishwasher, Vulcan Gas Range, True Refrigerator, ChefPro Restaurant Supply Co., HOBART-LXER2, VULCAN-60SS-10B, TRUE-T49-HC, transaction: 2024-01-20, payment-method: Commercial Loan Financing, payment-status: Financed - 36 monthly payments",
            "summary": "An invoice for restaurant equipment from ChefPro Restaurant Supply Co. includes a Hobart Commercial Dishwasher, Vulcan Gas Range, and True Refrigerator, totaling $19,220.76, with payment structured as a 36-month commercial loan.",
            "questions": "What restaurant equipment was ordered?|Who is the vendor for the restaurant supply order?|How is the payment structured for this order?"
          }
        ],
        "stages": {
          "search": {
            "time_ms": 1352.1060943603516,
            "success": true,
            "error": null,
            "metadata": {
              "results_count": 10,
              "top_k": 10,
              "metadata_boost_enabled": true
            }
          },
          "reranking": {
            "time_ms": 329.3581008911133,
            "success": true,
            "error": null,
            "metadata": {
              "input_count": 10,
              "output_count": 3,
              "top_k": 3
            }
          },
          "compression": {
            "time_ms": 0.0,
            "success": true,
            "error": null,
            "metadata": {
              "skipped": true
            }
          },
          "intent_detection": {
            "time_ms": 1681.7269325256348,
            "success": true,
            "error": null,
            "metadata": {
              "intent": "aggregation",
              "language": "en",
              "complexity": "moderate",
              "confidence": 0.93,
              "recommended_model": "Meta-Llama-3.3-70B-Instruct",
              "recommended_max_tokens": 2048,
              "has_custom_prompt": true
            }
          },
          "answer_generation": {
            "time_ms": 1826.854944229126,
            "success": true,
            "error": null,
            "metadata": {
              "context_chunks": 3,
              "citations": 0,
              "model_used": "Meta-Llama-3.3-70B-Instruct",
              "model_requested": null,
              "max_tokens_used": 2048,
              "temperature": 0.3,
              "used_custom_prompt": true,
              "used_recommended_model": true,
              "used_recommended_max_tokens": true
            }
          }
        },
        "total_time_ms": 3508.655071258545,
        "search_results_count": 10,
        "reranked_count": 3,
        "compressed_count": 3,
        "context_count": 3,
        "api_version": "1.0.0",
        "timestamp": "2025-10-19T15:04:09.273381"
      }
    }
  ]
}